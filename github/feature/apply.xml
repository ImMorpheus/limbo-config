<?xml version="1.0" encoding="utf-8"?>
<feature pattern="~move to ([a-z0-9-_]*)">
  <apply>
    <targets user="SpongePowered">
      <target repo="SpongeAPI"/>
      <target repo="SpongeCommon"/>
      <target repo="SpongeForge"/>
      <target repo="SpongeVanilla"/>
    </targets>

    <actions>
      <find pattern="~wip">
        <on>pull request comment</on>
        <on>pull request open</on>

        <by>author</by>
        <by>collaborator</by>

        <then>
          <label>
            <add>status: wip</add>
            <remove>status: needs review</remove>
            <remove>status: needs testing</remove>
            <remove>status: ready to merge</remove>
          </label>
        </then>
      </find>

      <find pattern="~qa">
        <on>pull request comment</on>
        <on>pull request open</on>

        <by>author</by>
        <by>collaborator</by>

        <then>
          <label>
            <add>status: needs review</add>
            <add>status: needs testing</add>
            <remove>status: ready to merge</remove>
            <remove>status: wip</remove>
          </label>
        </then>
      </find>

      <find pattern="~tested">
        <on>pull request comment</on>

        <by>collaborator</by>

        <then>
          <label>
            <remove>status: needs testing</remove>
            <remove>status: wip</remove>
          </label>
        </then>
      </find>

      <find pattern="~reviewed">
        <on>pull request comment</on>

        <by>collaborator</by>

        <then>
          <label>
            <remove>status: needs testing</remove>
            <remove>status: wip</remove>
          </label>
        </then>
      </find>

      <find pattern="~ready">
        <on>pull request comment</on>

        <by>collaborator</by>

        <then>
          <label>
            <add>status: ready to merge</add>
            <remove>status: needs testing</remove>
            <remove>status: needs review</remove>
            <remove>status: wip</remove>
          </label>
        </then>
      </find>
    </actions>
  </apply>
</feature>